// check if the function generated by PHP is exist and call it
if (typeof TriggerIt !== 'undefined') TriggerIt();

// some vars .. clear enough ha?
var urlForm = document.getElementById('url-form'),
	imageBox = document.querySelector('.modal'),
	triggered = false;

// add submit event listener to the url form
urlForm.addEventListener('submit', function(e) {
	// check if url input is empty
	if (!urlForm.url.value) {
		e.preventDefault();
		alertify.alert('Please isert valid Instagram Post URL');
	} else {
		// check if url form is already submitted by testing triggered variable
		if (!triggered) {
			triggered = true;
			urlForm.get.disabled = true;
			urlForm.get.value = 'Please Wait Iam Getting It For You ;)';
		} else e.preventDefault();
	}
});

// add click event to imagebox to discard it if you click anywhere on it
imageBox.addEventListener('click', function () {
	imageBox.remove();
});